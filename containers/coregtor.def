Bootstrap: docker
From: condaforge/miniforge3:latest

%files
    containers/coregtor_requirements.txt /app/requirements.txt

%post -c /bin/bash
    cd /app

    mamba create -y -p /opt/core-3.11 \
        python=3.11 \
        numpy \
        pandas \
        scikit-learn \
        matplotlib \
        jupyter \
        seaborn \
        pyyaml \
        requests \
        tqdm \
        -c conda-forge

    source activate /opt/core-3.11
    pip install --upgrade pip
    pip install -r /app/requirements.txt

%environment
    export PATH="/opt/core-3.11/bin:$PATH"

%labels
    Version 1.0

%help
    Coregtor container with Python 3.11 conda environment at /opt/core-3.11.